# media-integrity-checker
Image and video integrity checker

`media-integrity-checker` 是一个用于检测图片和视频文件完整性的工具。以下是对该项目的简要介绍：


### 项目功能
该工具主要用于扫描指定目录下的媒体文件（图片和视频），检测其是否完整、未损坏，并生成检测报告。具体功能包括：
- 扫描目标目录中的媒体文件（支持指定是否递归扫描子目录）
- 检测图片文件的完整性（验证尺寸、数据完整性、格式一致性等）
- 检测视频文件的完整性（验证时长、帧率、分辨率、关键帧可读取性等）
- 生成检测报告，包含文件状态（正常/损坏）及详细信息，并支持保存到文件


### 支持的媒体格式
- **图片**：`.jpg`、`.jpeg`、`.png`、`.gif`、`.bmp`
- **视频**：`.mp4`、`.avi`、`.mkv`、`.mov`、`.flv`


### 核心实现
- 使用 `PIL` 库处理图片文件的完整性检测
- 结合 `ffprobe`（依赖 `ffmpeg`）和 `OpenCV` 库处理视频文件的检测，包括元数据验证和关键帧读取检测
- 提供命令行接口，支持指定检测目录、递归模式和报告保存路径


### 使用方式（推测）
通过命令行参数指定检测参数，例如：
```bash
# 检测当前目录下的媒体文件（非递归）
python src/main.py

# 递归检测指定目录，并将报告保存到文件
python src/main.py --dir /path/to/media --recursive --report result.txt
```


### 依赖库
- `Pillow`（处理图片）
- `opencv-python`（处理视频）
- 可选依赖：`ffmpeg`（提供 `ffprobe` 工具，用于更详细的视频元数据检测）


该工具适合用于批量检查媒体文件是否损坏，尤其适用于整理大量图片或视频文件的场景。
